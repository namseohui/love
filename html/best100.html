<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>베스트100</title>
    <link rel="stylesheet" href="../css/reset.css" />
    <link rel="stylesheet" href="../css/common.css" />
    <link rel="stylesheet" href="../css/style.css">
    <script src="../script/jquery-3.6.0.js"></script>
    <!-- Swiper CSS -->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>

<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>


  </head>


<body>
  <div class="wrap">

    <!-- 상단바 -->
    <div class="topBar">
      <div class="topBar_main">
        <a href="../html/index.html"><img src="../img/main_logo.png" alt="" class="mainLogo"></a>
        <img src="../img/icon_basket.svg" alt="" class="mainBasket">
        <img src="../img/icon_menu.svg" alt="" class="mainMenu">
      </div>
      <div class="topBar_search">
        <input type="search" placeholder="검색어를 입력해주세요" autocomplete="off" required>
        <button type="submit" class="search-btn" aria-span="검색"><img src="../img/icon_search.svg" alt=""></button>
      </div>
      <div class="topBar_nav">
        <ul>
          <li><a href="#">홈</a></li>
          <li class="se"><a href="#">베스트100</a></li>
          <li><a href="#">납품사례</a></li>
          <li><a href="#">기획전</a></li>
          <li><a href="#">초특가</a></li>
          <li><a href="#">상품평</a></li>
        </ul>

        <button type="button" class="nav-toggle" aria-expanded="false">
          <img src="../img/icon_arrow-down.svg" alt="메뉴 펼치기/접기">
        </button>

        <ul class="nav-line nav-line--secondary">
          <li><a href="#">긴급제작</a></li>
          <li><a href="#">신상품</a></li>
          <li><a href="#">아이디어</a></li>
          <li><a href="#">우수사안</a></li>
        </ul>
      </div>
    </div>
    
    <!-- 내용 -->
    <div class="imgArea">
      <img src="../img/best_banner.png" alt="">
    </div>

    <!-- 카테고리_버튼 -->
    <div class="cateBtnWrap py30 lineBot">
      <div class="grid col5 gap10">
        <div class="cateBtn">
          <img src="../img/category_all.png" alt="">
          <div class="text">전체</div>
        </div>
        <div class="cateBtn">
          <img src="../img/category_life.png" alt="">
          <div class="text">가정생활</div>
        </div>
        <div class="cateBtn">
          <img src="../img/category_digital.png" alt="">
          <div class="text">디지털·가전</div>
        </div>
        <div class="cateBtn">
          <img src="../img/category_office.png" alt="">
          <div class="text">사무·문구</div>
        </div>
        <div class="cateBtn">
          <img src="../img/category_tumbler.png" alt="">
          <div class="text">주방용품·<br>텀블러</div>
        </div>
        <div class="cateBtn">
          <img src="../img/category_health.png" alt="">
          <div class="text">레저·건강·<br>차량용품</div>
        </div>
        <div class="cateBtn">
          <img src="../img/category_golf.png" alt="">
          <div class="text">골프용품</div>
        </div>
        <div class="cateBtn">
          <img src="../img/category_beauty.png" alt="">
          <div class="text">화장품·미용</div>
        </div>
        <div class="cateBtn">
          <img src="../img/category_event.png" alt="">
          <div class="text">상패·휘장·<br>행사용품</div>
        </div>
        <div class="cateBtn">
          <img src="../img/category_info.png" alt="">
          <div class="text">안내판·<br>사인물</div>
        </div>
      </div>

    </div>

    <!-- 베스트 제품 -->
    <div class="productWrap py30">
      <!-- 베스트 태그버튼 -->
      <div class="tagBtnWrap tagSwiper">
        <div class="tagBtnContainer swiper-wrapper">
          <button class="swiper-slide tagBtn">칼라인쇄</button>
          <button class="swiper-slide tagBtn">소량구매</button>
          <button class="swiper-slide tagBtn">국내제작</button>
          <button class="swiper-slide tagBtn">주문제작</button>
          <button class="swiper-slide tagBtn">무료배송</button>
          <button class="swiper-slide tagBtn">인쇄무료</button>
        </div>
      </div>
      <!-- 베스트 상품 -->
      <div class="productContainer">
        <div class="flex js-between">
          <div class="pd_title fs16">전체 <b class="red">100</b>개</div>
          <button id="toggleBtn">
            <img src="../img/product_icon_plur.svg" alt="아이콘">
          </button>
        </div>

        <!-- 상품 리스트 -->
        <div class="product-contens">
          <div class="product">
            <div class="rank">
              <span><img src="../img/product_icon_best.svg" alt=""></span>
              <span class="">BEST 1</span>
            </div>
            <div class="imgArea rel">
              <img src="../img/product_img01.png" alt="">
            </div>
            <div class="flex gap4">
              <span class="st wh">무료배송</span>
              <span class="st bl">인쇄무료</span>
            </div>
            <div class="textBox">
              <span class="p-code flex gap4">
                상품코드 : 24460002
                <span class="st bk copy-btn">코드복사</span>
              </span>
              <p>A4 가죽 서류가방 서류 파일 파우치 1P</p>
            </div>
            <h5 class="red">2,450 <span>원</span></h5>
          </div>

          <div class="product">
            <div class="rank">
              <span><img src="../img/product_icon_best.svg" alt=""></span>
              <span class="">BEST 2</span>
            </div>
            <div class="imgArea rel">
              <img src="../img/product_img02.png" alt="">
            </div>
            <div class="flex gap4">
              <span class="st wh">무료배송</span>
              <span class="st bl">인쇄무료</span>
            </div>
            <div class="textBox">
              <span class="p-code flex gap4">
                상품코드 : 24460002
                <span class="st bk copy-btn">코드복사</span>
              </span>
              <p>[트윙고] 앨리스 보틀 2P <br></p>
            </div>
            <h5 class="red">가격문의</h5>
          </div>

          <div class="product">
            <div class="rank">
              <span><img src="../img/product_icon_best.svg" alt=""></span>
              <span class="">BEST 3</span>
            </div>
            <div class="imgArea rel">
              <img src="../img/product_img03.png" alt="">
            </div>
            <div class="flex gap4">
              <span class="st wh">무료배송</span>
              <span class="st bl">인쇄무료</span>
            </div>
            <div class="textBox">
              <span class="p-code flex gap4">
                상품코드 : 24460002
                <span class="st bk copy-btn">코드복사</span>
              </span>
              <p>냉감 반팔 시원한 쿨 아이스 여름 반팔티 1P</p>
            </div>
            <h5 class="red">3,840<span>원</span></h5>
          </div>
          <div class="product">
            <div class="rank">
              <p class="ranking">4</p>
            </div>
            <div class="imgArea rel">
              <img src="../img/product_img04.png" alt="">
            </div>
            <div class="flex gap4">
              <span class="st wh">무료배송</span>
              <span class="st bl">인쇄무료</span>
            </div>
            <div class="textBox">
              <span class="p-code flex gap4">
                상품코드 : 24460002
                <span class="st bk copy-btn">코드복사</span>
              </span>
              <p>홍보용 물티슈 백색 100매</p>
            </div>
            <h5 class="red">103  <span>원</span></h5>
          </div>

          <div class="product">
            <div class="rank">
              <p class="ranking">5</p>
            </div>
            <div class="imgArea rel">
              <img src="../img/product_img05.png" alt="">
            </div>
            <div class="flex gap4">
              <span class="st wh">무료배송</span>
              <span class="st bl">인쇄무료</span>
            </div>
            <div class="textBox">
              <span class="p-code flex gap4">
                상품코드 : 24460002
                <span class="st bk copy-btn">코드복사</span>
              </span>
              <p>[씨피엠] CPM 2in1 10W 도킹형 미니 보조배터리 5000mAh 1P</p>
            </div>
            <h5 class="red">3,950<span>원</span></h5>
          </div>

          <div class="product">
            <div class="rank">
              <p class="ranking">6</p>
            </div>
            <div class="imgArea rel">
              <img src="../img/product_img06.png" alt="">
            </div>
            <div class="flex gap4">
              <span class="st wh">무료배송</span>
              <span class="st bl">인쇄무료</span>
            </div>
            <div class="textBox">
              <span class="p-code flex gap4">
                상품코드 : 24460002
                <span class="st bk copy-btn">코드복사</span>
              </span>
              <p>[주문제작] 칼라인쇄 종이쇼핑백 종이가방 종이백</p>
            </div>
            <h5 class="red">1<span>원</span></h5>
          </div>
          
        </div>
      </div>

    </div>





















    <!-- 하단바 -->
    <div class="bottomBar">
      <a href="#"><img src="../img/bottomBar01.svg" alt=""><img src="../img/bottomBar011.svg" alt=""></a>
      <a href="#"><img src="../img/bottomBar02.svg" alt=""><img src="../img/bottomBar022.svg" alt=""></a>
      <a href="#"><img src="../img/bottomBar03.svg" alt=""><img src="../img/bottomBar033.svg" alt=""></a>
      <a href="#"><img src="../img/bottomBar04.svg" alt=""><img src="../img/bottomBar044.svg" alt=""></a>
      <a href="#"><img src="../img/bottomBar05.svg" alt=""><img src="../img/bottomBar055.svg" alt=""></a>
    </div>

    <!-- 푸터 -->
    <footer>
      <img src="../img/footer_logo.png" alt="">
      <div class="footerLink">
        <a href="#">이용약관</a> · <a href="#">개인정보취급방침</a> · <a href="#">사업자정보확인</a>
      </div>
      <div class="footerInfo">
        <p>인천광역시 남동구 호구포로 50(고잔동) 엘아이지식산업센터 202호~207호</p>
        <p>대표자 : 심선기 ㅣ 대표번호 : 1688-8744</p>
        <p>개인정보관리책임자 : 이종후</p>
        <p>이메일 : gift@87sarang.com</p>
        <p>일반전화 : 032-261-2900, 032-466-0344</p>
        <p>사업자등록번호 : 131-86-22224</p>
        <p>통신판매업신고 : 제2010-인천남동구-0334호</p>
      </div>
    </footer>
  </div>
</body>
<script src="../script/style.js"></script>
<script src="../script/common.js"></script>
<script> // <!-- best_script -->
  const cateBtns = document.querySelectorAll('.cateBtn');

  cateBtns.forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation(); // 상위로 이벤트 전파 막기
      // 먼저 모두 제거
      cateBtns.forEach(el => el.classList.remove('active'));
      // 현재 클릭한 것만 추가
      btn.classList.add('active');
    });
  });

  // 문서(body 등) 아무 데나 클릭하면 active 해제
  document.addEventListener('click', () => {
    cateBtns.forEach(el => el.classList.remove('active'));
  });

  // tagBtn
  const swiper = new Swiper('.tagSwiper', {
    slidesPerView: 'auto',
    spaceBetween: 4,
    freeMode: true,
    grabCursor: true,
  });

  document.querySelectorAll('.tagBtn').forEach(btn => {
    btn.addEventListener('click', () => {
      // 모든 버튼 active 클래스 제거
      document.querySelectorAll('.tagBtn').forEach(b => b.classList.remove('active'));

      // 클릭한 버튼에만 active 추가
      btn.classList.add('active');

      // 가운데 정렬 스크롤 이동
      const wrap = document.querySelector('.tagBtnWrap');
      const btnRect = btn.getBoundingClientRect();
      const wrapRect = wrap.getBoundingClientRect();
      const btnCenter = btnRect.left + btnRect.width / 2;
      const wrapCenter = wrapRect.left + wrapRect.width / 2;
      const scrollLeft = wrap.scrollLeft + (btnCenter - wrapCenter);

      wrap.scrollTo({
        left: scrollLeft,
        behavior: 'smooth',
      });
    });
  });

  // product 리스트
  document.getElementById("toggleBtn").addEventListener("click", function () {
    const products = document.querySelectorAll(".product");
    const productContainer = document.querySelector(".product-contens");
    const isExpanded = productContainer.classList.contains("expanded");  // 클래스 여부로 체크

    if (isExpanded) {
      // 3개씩 보이게 설정
      productContainer.classList.remove("expanded");
      products.forEach(product => {
        product.style.width = "100%";
      });
      // 아이콘 원래 상태로
      this.querySelector("img").src = "../img/product_icon_plur.svg";
    } else {
      // 하나씩 보이게 설정
      productContainer.classList.add("expanded");
      products.forEach(product => {
        product.style.width = "100%";
      });
      // 아이콘 변경
      this.querySelector("img").src = "../img/product_icon_single.svg";
    }
  });

  // 코드 복사
  document.querySelectorAll('.copy-btn').forEach(copyBtn => {
    copyBtn.addEventListener('click', () => {
      const pCodeSpan = copyBtn.closest('.p-code');
      if (!pCodeSpan) return;

      // 상품코드 전체 텍스트에서 숫자만 추출
      const fullText = pCodeSpan.textContent;
      const match = fullText.match(/\d{5,}/); // 5자리 이상 숫자 추출

      if (!match) {
        alert('상품코드를 찾을 수 없습니다.');
        return;
      }

      const code = match[0];

      // ✅ clipboard API 지원 시 우선 사용
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(code).then(() => {
          alert(`상품코드 ${code}가 복사되었습니다.`);
        }).catch(() => {
          fallbackCopy(code);
        });
      } else {
        // ✅ clipboard 미지원 시 구형 방식으로 복사
        fallbackCopy(code);
      }
    });

    // 구형 브라우저 복사 방식
    function fallbackCopy(text) {
      const textarea = document.createElement('textarea');
      textarea.value = text;
      textarea.setAttribute('readonly', '');
      textarea.style.position = 'absolute';
      textarea.style.left = '-9999px';
      document.body.appendChild(textarea);
      textarea.select();

      try {
        const success = document.execCommand('copy');
        if (success) {
          alert(`상품코드 ${text}가 복사되었습니다.`);
        } else {
          alert('복사에 실패했습니다.');
        }
      } catch (err) {
        alert('복사에 실패했습니다.');
        console.error(err);
      }

      document.body.removeChild(textarea);
    }
  });

</script>


<!-- best_style -->
  <style>
  :root{
    --pink: #FF3366;
    --line-gray:#ddd;
  }
  /* color */
  .red {color: var(--red);}
  .bl {color:var(--bl);}

  /* st */
  .st.bk {background:var(--bl); border-color:var(--bl); color:#fff;}

  /* font-style */
  h5 {font-size: 1.6rem; font-weight: bold;}
  .p-code {color:var(--pink); font-size: 1rem; font-weight: 300;}
  
  /* font-weight */
  b {font-weight: bold;}
  
  /* margin */
  .mlAuto {margin-left: auto;}
  /* padding */
  .py30 {padding:3rem 0;}
  .py40 {padding:4rem 0;}

  /* grid */
  .grid {display: grid; align-items: self-start; justify-content: center; text-align: center;}
  .grid.col5 {grid-template-columns: repeat(5, 1fr);}
  /* flex */
  .flex {display: flex; align-items: center;}  
  .js-between {justify-content: space-between;}

  /* grp */  
  .gap4 {gap:.4rem;}
  .gap10 {gap:1rem;}
  .gap15 {gap:1.5rem;}
  .gap20 {gap:2rem;}

  /* img */
  .imgArea >* {margin:0 auto;}

  /* line_style */
  .lineBot {border-bottom: 1.5px solid var(--line-gray);}

  /* position */
  .rel {position: relative;}
  .ab {position: absolute;}


  /* ==== 베스트 100 css ==== */
  /* cateBtnWrap */
  .cateBtnWrap .grid .cateBtn img {
    border:1px solid var(--line-gray);
    border-radius: 20%;
  }
  .cateBtnWrap .grid .cateBtn .text {
    padding: 1rem 0;
    font-size: 1.2rem;
    color:var(--gray);
  }
  /* cateBtnWrap->active */
  .cateBtnWrap .grid .cateBtn.active img, .cateBtnWrap .grid .cateBtn:hover img {  
  border: 1px solid var(--red); 
}
.cateBtnWrap .grid .cateBtn:first-child.active img,.cateBtnWrap .grid .cateBtn:first-child:hover img {    
  filter: invert(26%) sepia(85%) saturate(5102%) hue-rotate(346deg) brightness(91%) contrast(106%);
}
.cateBtnWrap .grid .cateBtn.active .text,.cateBtnWrap .grid .cateBtn:hover .text {
  color:var(--red); 
  font-weight: bold;
}
/* tagBtnWrap */
.tagBtnWrap {
  max-width: 390px;
  overflow-x: auto;
  scroll-snap-type: x mandatory; 
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}
.tagBtnWrap::-webkit-scrollbar {
  display: none;
}

.tagSwiper .swiper-slide {
  width: auto !important;
}
.tagBtnContainer {
  display: flex;
  gap: 0.4rem;
  width: max-content;
}
.tagBtn {
  font-size: 1.6rem;
  padding: 0.6rem 1rem;
  border: 1px solid var(--line-gray);
  border-radius: 50px;
  background-color: white;
  color: #999;
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.3s ease;
}
.tagBtn.active {
  background-color: var(--bl);
  color: white;
  border-color: var(--bl);
}

/* product */
.productContainer button {
  background: none;
  border: none;
  cursor: pointer;
}
.productContainer > .flex {padding: 2rem 0;}
.product-contens {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
}
.product {
  box-sizing: border-box;
  transition: width 0.3s ease-in-out;
}
.product >* {margin-bottom: 1rem;}

.product .flex .st {font-size: .8rem;}
.product .rank {display:flex; align-items: center; font-size: 1.4rem; font-weight: 500;}
.product .rank .ranking {background: var(--pink); color:#fff; width:20%; text-align: center;}
.product h5.red span {color:var(--bl); font-weight: 300;}
.product .textBox {font-size: 1.2rem; color: var(--bl); line-height: 120%;
}
.product .textBox p {
  display: -webkit-box;
    -webkit-line-clamp: 2; /* 3줄로 제한 */
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    height: calc(1.2rem * 2 * 1.25);}
.product .textBox .p-code .st {display: none;}
.product .imgArea img {
  border:1px solid var(--line-gray);
  border-radius: 15%;
  transition: all .8s ease-in-out; 
}
.product .imgArea.rel::before, .product .imgArea.rel::after {
  position: absolute; right:10%; height: 25px; 
}
.product .imgArea.rel::before {
  content: ''; 
  background: no-repeat center / cover url('../img/product_tag.png');;
  width: 20px; top:0; z-index: 0; transform: translateX(10%) translateY(0);
}
.product .imgArea.rel::after {
  content: '무료인쇄'; 
  width: 16px; color:#fff; font-size: .8rem; top:2%; z-index: 0;
  transform: translateX(10%) translateY(2%);
}
/* 하나씩 보일 때 이미지 스타일 변경 */
.product-contens.expanded {grid-template-columns: repeat(1, 1fr); gap: 3rem;}
.product-contens.expanded .product .flex .st {font-size: 1.2rem;}
.product-contens.expanded .product .rank {font-size: 1.8rem;}
.product-contens.expanded .product .rank .ranking {width:50px; }
.product-contens.expanded .product .imgArea img {border-radius: 0%;}
.product-contens.expanded .product .imgArea.rel::before {width: 11%; height: 13%; transform: translateX(10%) translateY(0);}
.product-contens.expanded .product .imgArea.rel::after {width: 26px; height: auto; font-size: 1.4rem; right: 11%; transform: translateX(11%) translateY(2%);}
.product-contens.expanded .product .textBox {font-size: 1.8rem; font-weight: bold;}
.product-contens.expanded .product .textBox p {height: calc(1.2rem * 3 * .8);}
.product-contens.expanded .product .textBox .p-code {font-size: 1.4rem;}
.product-contens.expanded .product .textBox .p-code .st {display: inline-block; line-height: 100%;}
.product-contens.expanded .product h5 {font-size: 2rem;}

  </style>
</html>
